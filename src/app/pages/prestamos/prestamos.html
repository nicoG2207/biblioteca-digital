<div class="container mt-4">
  <h2 class="mb-4">üìö Lista de Pr√©stamos</h2>

  <table class="table table-striped align-middle text-center">
    <thead class="table-light">
      <tr>
        <th>Usuario</th>
        <th>Correo</th>
        <th>Libro</th>
        <th>Fecha Pr√©stamo</th>
        <th>Fecha Devoluci√≥n</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let p of prestamos">
        <td>{{ p.nombreUsuario }}</td>
        <td>{{ p.correoUsuario }}</td>
        <td>{{ p.nombreLibro }}</td>
        <td>{{ p.fecha_prestamo | date: 'shortDate' }}</td>
        <td>{{ p.fecha_devolucion | date: 'shortDate' }}</td>
        <td>
          <button
            class="btn btn-danger btn-sm rounded-circle d-flex align-items-center justify-content-center mx-auto"
            title="Eliminar pr√©stamo"
            style="width: 34px; height: 34px"
            (click)="eliminarPrestamo(p.CodigoLibro)">
            <i class="bi bi-trash-fill fs-6 text-white"></i>
          </button>
        </td>
      </tr>
      <tr *ngIf="prestamos.length === 0">
        <td colspan="6" class="text-center text-muted py-3">No hay pr√©stamos registrados.</td>
      </tr>
    </tbody>
  </table>

  <hr />

  <h4 class="mt-4">‚ûï Agregar Pr√©stamo</h4>
<form (ngSubmit)="agregarPrestamo()">
  <div class="row">
    <div class="col">
      <input type="number" class="form-control" placeholder="ID Usuario" [(ngModel)]="nuevoPrestamo.id_usuario" name="usuario" required />
      <div class="form-text text-center">ID Usuario</div>
    </div>
    <div class="col">
      <input type="number" class="form-control" placeholder="ID Libro" [(ngModel)]="nuevoPrestamo.id_libro" name="libro" required />
      <div class="form-text text-center">ID Libro</div>
    </div>
    <div class="col">
      <input type="date" class="form-control" [(ngModel)]="nuevoPrestamo.fecha_prestamo" name="fecha_prestamo" required />
      <div class="form-text text-center">Fecha Pr√©stamo</div>
    </div>
    <div class="col">
      <input type="date" class="form-control" [(ngModel)]="nuevoPrestamo.fecha_devolucion" name="fecha_devolucion" required />
      <div class="form-text text-center">Fecha Devoluci√≥n</div>
    </div>
  </div>
  <button class="btn btn-primary mt-3" type="submit">Guardar</button>
</form>
